# Rocker

I learned a lot in the first few months of using docker. Some of what I learned has been encoded into this repo so that you can use and build on it.

## Purpose

'Rocker' (I had to call it _something_) can be used as a starter project or simply as an educational guide. In essence rocker is an example project built using the following technologies and generators (in no particular order).

*   Docker
*   Docker Compose
*   Rails
*   Yeoman
*   Gulp
*   AngularJS

## Suite Scripts

The main working part of the code is in the glue scripts which are provided in the `./suite` directory.

### Prerequisites

1.  Docker
2.  Docker Compose
3.  Direnv

You can install [docker][76afb1a3] and [docker-compose][82a8a185] by following their respective installation guides.

  [76afb1a3]: https://docs.docker.com/engine/installation/ "docker"
  [82a8a185]: https://docs.docker.com/compose/install/ "docker-compose"

**NB: You will need to use [direnv][459184eb] to ensure that the scripts work seamlessly.**

  [459184eb]: https://github.com/direnv/direnv "Direnv"

If you do not want to use direnv you can edit the suite scripts to use the relative path. This is not recommended since
the relative paths will change if change working directory within the project and most of the convenience is largely moot.

Once you have direnv installed you can run the `direnv allow` command if required.

## Overview

This demo app has the following components installed

Name     | Tech                         | Notes/Comments
---------|------------------------------|---------------
API      | Ruby on Rails                | /api
web      | NodeJS/AngularJS/BootstrapUI | /
postgres | PostgreSQL 9.6               | postgres:5432 (internally)
dynamodb | AWS DynamoDB (Local)         | dynamodb (internally)

## Getting started

Once you have docker and docker-compose installed you can fire up the application with the `up` command. This may take some time as you pull all of the docker images onto your machine as well as install gems, node and bower dependencies.

### Rails API
The suite scripts allow you to write rails commands as normal. For example `bundle install` You will get a line of output telling you that the script is running in the api container.

```
$ bundle install
Running bundler in api container...
etc.
```

### web
Included with this project is the default project generated by the [angular-styleguide angular1 yeoman generator](https://github.com/johnpapa/angular-styleguide/tree/master/a1#yeoman-generator). Note that this is a good starting point but it would be very simple to use your prefered generator by clearing out the web folder and running your favourite yeoman generator instead.

### Router
The router here is an Nginx based container acting as a proxy to the various app components.

## Disclaimer

This code has been used extensively on Ubuntu Linux. There are known issues when running Docker on Mac including poor start and build performances. Please do not contact me regarding Mac issues as I will not be able to help.
